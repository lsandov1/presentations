SOURCES=menu.pdf.md folders.md Nsteps.md arch.md meta_input.md layer.md patching_kernel.md building_kernel.md contribute.mb
DEST=menu.pdf folders.pdf Nsteps.pdf arch.pdf meta_input.pdf yocto_tutorial.pdf layer.pdf patching_kernel.pdf building_kernel.pdf contribute.pdf 

all: $(DEST)

menu.pdf: menu.pdf.md
		pandoc --self-contained -s -o $@ $<

folders.pdf: folders.md
		pandoc --self-contained -s -o $@ $<

Nsteps.pdf: Nsteps.md
		pandoc --self-contained -s -o $@ $<

arch.pdf: arch.md
		pandoc --self-contained -s -o $@ $<

meta_input.pdf: meta_input.md
		pandoc --self-contained -s -o $@ $<

layer.pdf: layer.md
		pandoc --self-contained -s -o $@ $<

patching_kernel.pdf: patching_kernel.md
		pandoc --self-contained -s -o $@ $<

building_kernel.pdf: building_kernel.md
		pandoc --self-contained -s -o $@ $<

contribute.pdf: contribute.md
		pandoc --self-contained -s -o $@ $<

yocto_tutorial.pdf: menu.pdf folders.pdf Nsteps.pdf arch.pdf meta_input.pdf layer.pdf patching_kernel.pdf building_kernel.pdf contribute.pdf 
		gs -q -sPAPERSIZE=letter -dNOPAUSE -dBATCH -sDEVICE=pdfwrite -sOutputFile=$@ menu.pdf Nsteps.pdf folders.pdf arch.pdf meta_input.pdf layer.pdf patching_kernel.pdf building_kernel.pdf contribute.pdf

clean:
		-rm -f *.pdf
